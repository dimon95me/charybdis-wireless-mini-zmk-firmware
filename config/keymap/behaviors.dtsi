// ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ĞµĞ½Ğ¸Ğµ Ğ³Ñ€ÑƒĞ¿Ğ¿ ĞºĞ»Ğ°Ğ²Ğ¸Ñˆ Ğ¿Ğ¾ Ğ¸Ñ… Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ğ¸ÑĞ¼ Ğ² Ğ¼Ğ°Ñ‚Ñ€Ğ¸Ñ†Ğµ
#define KEYS_L 0 1 2 3 4 5 12 13 14 15 16 17 24 25 26 27 28 29 36 37 38 19 20 21 22  // Ğ›ĞµĞ²Ğ°Ñ Ñ€ÑƒĞºĞ°
#define KEYS_R 6 7 8 9 10 11 18 19 20 21 22 23 30 31 32 33 34 35 39 40 16 15 14 13  // ĞŸÑ€Ğ°Ğ²Ğ°Ñ Ñ€ÑƒĞºĞ°
#define THUMBS 36 37 38 39 40  // ĞšĞ»Ğ°Ğ²Ğ¸ÑˆĞ¸ Ğ¿Ğ¾Ğ´ Ğ±Ğ¾Ğ»ÑŒÑˆĞ¸Ğµ Ğ¿Ğ°Ğ»ÑŒÑ†Ñ‹

/*
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ“˜ Ğ¢ĞĞ‘Ğ›Ğ˜Ğ¦Ğ ĞŸĞĞ’Ğ•Ğ”Ğ•ĞĞ˜Ğ™
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â”‚ ĞĞ°Ğ·Ğ²Ğ°Ğ½Ğ¸Ğµ       â”‚ tap                         â”‚ hold                        â”‚ double-tap         â”‚ Ğ¢Ğ¸Ğ¿ Ğ¿Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ñ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ht_num_func    â”‚ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ¾Ğµ Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ğµ              â”‚ Ğ¼Ğ¾Ğ´Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€/Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ñ         â”‚ â€”                  â”‚ hold-tap       â”‚
â”‚ ht_left        â”‚ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»                       â”‚ Ğ¼Ğ¾Ğ´Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ (Ğ»ĞµĞ²Ğ°Ñ Ñ€ÑƒĞºĞ°)    â”‚ â€”                  â”‚ hold-tap       â”‚
â”‚ ht_right       â”‚ ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»                       â”‚ Ğ¼Ğ¾Ğ´Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ (Ğ¿Ñ€Ğ°Ğ²Ğ°Ñ Ñ€ÑƒĞºĞ°)   â”‚ â€”                  â”‚ hold-tap       â”‚
â”‚ td_space_nav   â”‚ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»                       â”‚ ÑĞ»Ğ¾Ğ¹ 2                      â”‚ â€”                  â”‚ tap-dance      â”‚
â”‚ mo_clk         â”‚ ĞºĞ»Ğ¸Ğº Ğ¼Ñ‹ÑˆÑŒÑ                   â”‚ ÑĞ»Ğ¾Ğ¹                        â”‚ â€”                  â”‚ hold-tap       â”‚
â”‚ td_clk         â”‚ Ğ»ĞµĞ²Ñ‹Ğ¹ ĞºĞ»Ğ¸Ğº                   â”‚ ÑĞ»Ğ¾Ğ¹ 3 + ĞºĞ»Ğ¸Ğº               â”‚ â€”                  â”‚ tap-dance      â”‚
â”‚ mo_kp          â”‚ Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ°Ñ ĞºĞ»Ğ°Ğ²Ğ¸ÑˆĞ°              â”‚ ÑĞ»Ğ¾Ğ¹                        â”‚ â€”                  â”‚ hold-tap       â”‚
â”‚ td_bs          â”‚ backspace                    â”‚ ÑĞ»Ğ¾Ğ¹ 1                      â”‚ â€”                  â”‚ tap-dance      â”‚
â”‚ httl           â”‚ Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ½Ğ° ÑĞ»Ğ¾Ğ¹              â”‚ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹              â”‚ â€”                  â”‚ hold-tap       â”‚
â”‚ td_layers      â”‚ ÑĞ»Ğ¾Ğ¹ 0                       â”‚ â€”                           â”‚ ÑĞ»Ğ¾Ğ¹ 4             â”‚ tap-dance      â”‚
â”‚ td_clk_scrl    â”‚ Ğ¿Ñ€Ğ°Ğ²Ğ°Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ° Ğ¼Ñ‹ÑˆĞ¸           â”‚ ÑĞ»Ğ¾Ğ¹ 8 (scroll mode)        â”‚ â€”                  â”‚ tap-dance      â”‚
â”‚ td_bore        â”‚ ÑĞ»Ğ¾Ğ¹ 5                       â”‚ â€”                           â”‚ ÑĞ»Ğ¾Ğ¹ 0             â”‚ tap-dance      â”‚
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
*/

/ {
    behaviors {

        // Homerow-mod Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ (Ğ¾ÑĞ½Ğ¾Ğ²Ğ° Ğ´Ğ»Ñ Ğ¼Ğ¾Ğ´Ğ¸Ñ„Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€Ğ¾Ğ²)
        ht_num_func: homerow_mod {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "tap-preferred"; // ĞµÑĞ»Ğ¸ Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¾ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾ â€” Ñ€ĞµĞ³Ğ¸ÑÑ‚Ñ€Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ tap
            tapping-term-ms = <175>;  // Ğ²Ñ€ĞµĞ¼Ñ Ğ² Ğ¼Ñ Ğ´Ğ¾ ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ hold
            quick-tap-ms = <150>;     // Ğ¿Ğ¾Ğ²Ñ‚Ğ¾Ñ€Ğ½Ñ‹Ğ¹ tap Ğ² ÑÑ‚Ğ¾ Ğ²Ñ€ĞµĞ¼Ñ â€” ÑÑ‡Ğ¸Ñ‚Ğ°ĞµÑ‚ÑÑ tap
            require-prior-idle-ms = <185>; // Ğ¿Ñ€ĞµĞ´Ğ¾Ñ‚Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚ ĞºĞ¾Ğ½Ñ„Ğ»Ğ¸ĞºÑ‚ Ñ Ğ¿Ñ€ĞµĞ´Ñ‹Ğ´ÑƒÑ‰Ğ¸Ğ¼Ğ¸ Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸ÑĞ¼Ğ¸
            bindings = <&kp>, <&kp>;  // 1-Ğ¹ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€ = hold, 2-Ğ¹ = tap
        };

        // Ğ›ĞµĞ²Ğ°Ñ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ° â€” homerow mod
        ht_left: left_side_homerow_mod {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";       // Ğ±Ğ°Ğ»Ğ°Ğ½Ñ Ğ¼ĞµĞ¶Ğ´Ñƒ tap Ğ¸ hold
            tapping-term-ms = <280>;   // Ğ±Ğ¾Ğ»ÑŒÑˆĞµĞµ Ğ²Ñ€ĞµĞ¼Ñ â€” Ñ‚.Ğº. Ğ»ĞµĞ²Ğ°Ñ Ñ€ÑƒĞºĞ° Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ Ğ¼Ğ¾Ğ´Ñ‹
            quick-tap-ms = <175>;
            require-prior-idle-ms = <150>;
            bindings = <&kp>, <&kp>;
            hold-trigger-key-positions = <KEYS_R THUMBS>; // ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°ĞµÑ‚ hold, ĞµÑĞ»Ğ¸ Ğ½Ğ°Ğ¶Ğ°Ñ‚Ñ‹ ĞºĞ»Ğ°Ğ²Ğ¸ÑˆĞ¸ Ğ¿Ñ€Ğ°Ğ²Ğ¾Ğ¹ Ñ€ÑƒĞºĞ¸
            hold-trigger-on-release;   // hold Ğ°ĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ¿Ñ€Ğ¸ Ğ¾Ñ‚Ğ¿ÑƒÑĞºĞ°Ğ½Ğ¸Ğ¸ ĞºĞ»Ğ°Ğ²Ğ¸ÑˆĞ¸
        };

        // ĞŸÑ€Ğ°Ğ²Ğ°Ñ ÑÑ‚Ğ¾Ñ€Ğ¾Ğ½Ğ° â€” homerow mod
        ht_right: right_side_homerow_mod {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <280>;
            quick-tap-ms = <175>;
            require-prior-idle-ms = <125>;
            bindings = <&kp>, <&kp>;
            hold-trigger-key-positions = <KEYS_L THUMBS>; // Ğ·ĞµÑ€ĞºĞ°Ğ»ÑŒĞ½Ğ¾ Ğ»ĞµĞ²Ğ¾Ğ¹ Ñ€ÑƒĞºĞµ
            hold-trigger-on-release;
        };

        // Tap Dance: Ğ¿Ñ€Ğ¾Ğ±ĞµĞ» / Ğ½Ğ°Ğ²Ğ¸Ğ³Ğ°Ñ†Ğ¸Ñ
        td_space_nav: td_space {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            tapping-term-ms = <120>;
            // Ğ¿Ñ€Ğ¸ ÑƒĞ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ğ¸ â€” Ğ°ĞºÑ‚Ğ¸Ğ²Ğ¸Ñ€ÑƒĞµÑ‚ ÑĞ»Ğ¾Ğ¹ 2, Ğ¿Ñ€Ğ¸ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾Ğ¼ Ğ½Ğ°Ğ¶Ğ°Ñ‚Ğ¸Ğ¸ â€” Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»
            bindings = <&lt 2 SPACE>, <&kp SPACE>; // hold = &lt 2 (Layer Tap Ğ½Ğ° ÑĞ»Ğ¾Ğ¹ 2), tap = SPACE
        };

        // Hold-tap: ÑĞ»Ğ¾Ğ¹ / ĞºĞ»Ğ¸Ğº
        mo_clk: mo_click {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor = "hold-preferred"; // Ğ¿Ñ€Ğ¸Ğ¾Ñ€Ğ¸Ñ‚ĞµÑ‚ ÑƒĞ´ĞµÑ€Ğ¶Ğ°Ğ½Ğ¸Ñ
            tapping-term-ms = <40>;    // Ğ¾Ñ‡ĞµĞ½ÑŒ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ´Ğ»Ñ Ñ‚Ğ¾Ñ‡Ğ½Ğ¾Ğ³Ğ¾ ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ
            hold-while-undecided;      // Ğ´ĞµÑ€Ğ¶Ğ¸Ñ‚ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ, Ğ¿Ğ¾ĞºĞ° Ğ½Ğµ Ñ€ĞµÑˆĞ¸Ñ‚ tap/hold
            bindings = <&mo>, <&mkp>;  // hold = Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ ÑĞ»Ğ¾Ğ¹, tap = mouse key press
        };

        // Tap Dance: ĞºĞ»Ğ¸Ğº / ÑĞ»Ğ¾Ğ¹
        td_clk: td_clk {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            tapping-term-ms = <170>;
            // hold = mo_clk (ÑĞ»Ğ¾Ğ¹ + ĞºĞ»Ğ¸Ğº), tap = Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾ Ğ»ĞµĞ²Ñ‹Ğ¹ ĞºĞ»Ğ¸Ğº
            bindings = <&mo_clk 3 LCLK>, <&mkp LCLK>;
        };

        // Hold-tap: ÑĞ»Ğ¾Ğ¹ / Ğ¾Ğ±Ñ‹Ñ‡Ğ½Ğ°Ñ ĞºĞ»Ğ°Ğ²Ğ¸ÑˆĞ°
        mo_kp: mo_kp {
            compatible = "zmk,behavior-hold-tap";
            #binding-cells = <2>;
            flavor       = "hold-preferred";
            tapping-term-ms = <40>;
            hold-while-undecided;
            bindings = <&mo>, <&kp>;
        };

        // Tap Dance: backspace / ÑĞ»Ğ¾Ğ¹
        td_bs: td_bs {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            tapping-term-ms = <170>;
            // hold = ÑĞ»Ğ¾Ğ¹ 1, tap = backspace
            bindings = <&mo_kp 1 BACKSPACE>, <&kp BACKSPACE>;
        };

        // Hold-tap: Ğ¿ĞµÑ€ĞµÑ…Ğ¾Ğ´ Ğ¼ĞµĞ¶Ğ´Ñƒ ÑĞ»Ğ¾ÑĞ¼Ğ¸
        httl: ht_two_layers {
            compatible = "zmk,behavior-hold-tap";
            bindings = <&mo>, <&to>;
            #binding-cells = <2>;
            flavor = "balanced";
            tapping-term-ms = <125>;
        };

        // Tap Dance: Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ»Ğ¾Ñ‘Ğ²
        td_layers: td_layer_swap {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            // tap = ÑĞ»Ğ¾Ğ¹ 0, double tap = ÑĞ»Ğ¾Ğ¹ 4
            bindings = <&to 0>, <&to 4>;
        };

        // Tap Dance: ĞºĞ»Ğ¸Ğº Ğ¸Ğ»Ğ¸ ÑĞºÑ€Ğ¾Ğ»Ğ»
        td_clk_scrl: td_click_or_scroll {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            tapping-term-ms = <250>;
            // tap = Ğ¿Ñ€Ğ°Ğ²Ğ°Ñ ĞºĞ½Ğ¾Ğ¿ĞºĞ° Ğ¼Ñ‹ÑˆĞ¸, double tap = ÑĞ»Ğ¾Ğ¹ 8 (scroll mode)
            bindings = <&mkp RCLK>, <&mo 8>;
        };

        // Tap Dance: Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ğ¹ ÑĞ»Ğ¾Ğ¹ Ğ¸Ğ»Ğ¸ extras
        td_bore: BASE_or_EXTRA {
            compatible = "zmk,behavior-tap-dance";
            #binding-cells = <0>;
            // tap = ÑĞ»Ğ¾Ğ¹ 5, double tap = ÑĞ»Ğ¾Ğ¹ 0
            bindings = <&mo 5>, <&to 0>;
        };
    };
};
